import{g as P,a as q}from"./index-CWz7Ae3v.js";import{b as T,r,o as E,l as F,m as t,h as G,k as J,n as l,i as K,q as e,e as o,t as k,u as y,p as O,j as Q,_ as W}from"./index-kk0mXoR3.js";const X=""+new URL("logo-Bbjy2_du.png",import.meta.url).href,Y=""+new URL("avatar-DTx2bA7L.png",import.meta.url).href,s=p=>(O("data-v-fda4b497"),p=p(),Q(),p),Z=s(()=>o("img",{src:X,alt:""},null,-1)),ee=s(()=>o("span",{class:"ccxkt"},"光伏板检测",-1)),te=[Z,ee],oe={class:"time_container"},se=s(()=>o("img",{src:Y,alt:""},null,-1)),ne=[se],le=s(()=>o("span",null,"人员管理",-1)),ae=s(()=>o("span",null,"巡检人员管理",-1)),ie=s(()=>o("span",null,"维修人员管理",-1)),de=s(()=>o("span",null,"会审人员管理",-1)),ue=s(()=>o("span",null,"缺陷检测管理",-1)),ce=s(()=>o("span",null,"缺陷检测",-1)),_e=s(()=>o("span",null,"缺陷事件处理",-1)),re=s(()=>o("span",null,"缺陷事件查看",-1)),fe=s(()=>o("span",null,"设备管理",-1)),pe=s(()=>o("span",null,"摄像设备管理",-1)),me=s(()=>o("span",null,"知识库管理",-1)),ve=s(()=>o("span",null,"缺陷知识",-1)),ge=s(()=>o("span",null,"维修事项",-1)),he=s(()=>o("span",null,"新闻速递",-1)),be=s(()=>o("span",null,"系统管理",-1)),xe=s(()=>o("span",null,"权限管理",-1)),ke=s(()=>o("span",null,"机构管理",-1)),ye=s(()=>o("span",null,"数据可视化",-1)),Ce=s(()=>o("span",null,"数据可视化",-1)),Ie=T({__name:"Home",setup(p){const h=r(""),g=r(""),d=r({}),C=G();let m=r(!1);const v=r(!1),b=r("2-1"),{proxy:c}=J(),I=()=>{m.value=!m.value},w=i=>{sessionStorage.setItem("keyPath",i)};async function S(){sessionStorage.removeItem("user"),c.$startLoading();const{code:i}=await q();if(c.$closeLoading(),i!==1)return c.$message.error("服务器故障");C.push("/login")}return E(async()=>{b.value=sessionStorage.getItem("keyPath")||"2-1",c.$startLoading();const i=await P();if(c.$closeLoading(),i.code!==1)return sessionStorage.removeItem("user"),c.$message.error("服务器故障");h.value=i.data.user.nickName,g.value=i.data.user.job,d.value=i.data.authority,console.log(d.value.user)}),(i,u)=>{const $=l("el-divider"),L=l("el-popover"),V=l("el-header"),N=l("User"),n=l("el-icon"),a=l("el-menu-item"),_=l("el-sub-menu"),U=l("Monitor"),j=l("Camera"),B=l("Notebook"),D=l("Setting"),H=l("DataAnalysis"),A=l("el-menu"),M=l("el-aside"),R=l("router-view"),z=l("el-main"),x=l("el-container");return K(),F(x,null,{default:t(()=>[e(V,null,{default:t(()=>[o("div",{id:"header_logo",onClick:u[0]||(u[0]=(...f)=>i.goHome&&i.goHome(...f))},te),o("div",null,[o("div",oe,k(g.value)+" "+k(h.value),1),e(L,{class:"avater_container",placement:"bottom",trigger:"hover",modelValue:v.value,"onUpdate:modelValue":u[3]||(u[3]=f=>v.value=f)},{reference:t(()=>[o("div",{class:"userInfo",onClick:u[1]||(u[1]=f=>v.value=!v.value)},ne)]),default:t(()=>[o("p",{onClick:u[2]||(u[2]=f=>i.changeVisible=!0)},"修改密码"),e($),o("p",{onClick:S},"退出登录")]),_:1},8,["modelValue"])])]),_:1}),e(x,null,{default:t(()=>[e(M,{width:y(m)?"64px":"200px"},{default:t(()=>[o("div",{class:"toggle-button",onClick:I},"|||"),e(A,{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",collapse:y(m),"collapse-transition":!1,router:"",onSelect:w,"default-active":b.value},{default:t(()=>[e(_,{index:"1"},{title:t(()=>[e(n,null,{default:t(()=>[e(N)]),_:1}),le]),default:t(()=>[e(a,{index:"1-1",disabled:d.value.user!==1,route:"/staff/inspection"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),ae]),_:1},8,["disabled"]),e(a,{index:"1-2",disabled:d.value.user!==1,route:"/staff/technician"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),ie]),_:1},8,["disabled"]),e(a,{index:"1-3",disabled:d.value.user!==1,route:"/staff/review"},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),de]),_:1},8,["disabled"])]),_:1}),e(_,{index:"2"},{title:t(()=>[e(n,null,{default:t(()=>[e(U)]),_:1}),ue]),default:t(()=>[e(a,{index:"2-1",route:"/defect/detecting"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),ce]),_:1}),e(a,{index:"2-2",route:"/defect/management",disabled:d.value.jro!==1},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),_e]),_:1},8,["disabled"]),e(a,{index:"2-3",route:"/defect/viewing",disabled:d.value.picture!==1},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),re]),_:1},8,["disabled"])]),_:1}),e(_,{index:"3"},{title:t(()=>[e(n,null,{default:t(()=>[e(j)]),_:1}),fe]),default:t(()=>[e(a,{index:"3-1",route:"/instrument/management"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),pe]),_:1})]),_:1}),e(_,{index:"4",disabled:d.value.kbase!==1},{title:t(()=>[e(n,null,{default:t(()=>[e(B)]),_:1}),me]),default:t(()=>[e(a,{index:"4-1",route:"admin"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),ve]),_:1}),e(a,{index:"4-2",route:"admin"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),ge]),_:1}),e(a,{index:"4-3",route:"admin"},{default:t(()=>[e(n,{class:"el-icon-s-tools"}),he]),_:1})]),_:1},8,["disabled"]),e(_,{index:"5"},{title:t(()=>[e(n,null,{default:t(()=>[e(D)]),_:1}),be]),default:t(()=>[e(a,{index:"5-2",disabled:g.value!=="超管",route:"/system/authorization"},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),xe]),_:1},8,["disabled"]),e(a,{index:"5-4",route:"/system/institution",disabled:d.value.enterprise!==1},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),ke]),_:1},8,["disabled"])]),_:1}),e(_,{index:"6"},{title:t(()=>[e(n,null,{default:t(()=>[e(H)]),_:1}),ye]),default:t(()=>[e(a,{index:"6-1",route:"/system/authorization"},{default:t(()=>[e(n,{class:"el-icon-s-unfold"}),Ce]),_:1})]),_:1})]),_:1},8,["collapse","default-active"])]),_:1},8,["width"]),e(z,null,{default:t(()=>[e(R)]),_:1})]),_:1})]),_:1})}}}),$e=W(Ie,[["__scopeId","data-v-fda4b497"]]);export{$e as default};
