import{b as j,u as B}from"./index-CM78VC0T.js";import{d as D,r as w,j as y,o as E,c as T,n as e,l as t,m as n,g as q,e as p,u as i,x as M,a as O,i as P,_ as A}from"./index-D_0vH8B_.js";const G={class:"dialog-footer"},H=D({__name:"Reviewer",setup(J){const{proxy:u}=P();let r=w({name:"",page:1,pageSize:5}),C=y(1),f=w([]);const _=y(!1),d=w({});function h(a){Object.assign(d,a),_.value=!0}const k=a=>{r.pageSize=a,m()},z=a=>{r.page=a,m()};function $(a){a&&a.resetFields()}async function x(){u.$startLoading();const a=await B(d.id,d);if(u.$closeLoading(),_.value=!1,a.code!=1)return u.$message.error("更新失败");u.$message.success("更新成功"),m()}const m=async()=>{u.$startLoading();const a=await j(r);if(u.$closeLoading(),a.code!==1)return u.$message.error("获取列表失败");f.splice(0,f.length,...a.data.records),C.value=a.data.total};return E(()=>{m()}),(a,l)=>{const g=n("el-breadcrumb-item"),S=n("el-breadcrumb"),c=n("el-button"),b=n("el-input"),v=n("el-col"),U=n("el-row"),s=n("el-table-column"),L=n("el-table"),N=n("el-pagination"),F=n("el-card"),V=n("el-form-item"),R=n("el-form"),I=n("el-dialog");return q(),T("div",null,[e(S,{separator:"/"},{default:t(()=>[e(g,{to:{path:"/home"}},{default:t(()=>[p("首页")]),_:1}),e(g,null,{default:t(()=>[p("人员管理")]),_:1}),e(g,null,{default:t(()=>[p("审查人员")]),_:1})]),_:1}),e(F,null,{default:t(()=>[e(U,{gutter:20},{default:t(()=>[e(v,{span:8,offset:0},{default:t(()=>[e(b,{placeholder:"输入用户名查询",modelValue:i(r).name,"onUpdate:modelValue":l[0]||(l[0]=o=>i(r).name=o),clearable:"",onClear:m},{append:t(()=>[e(c,{icon:i(M),onClick:m},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),e(v,{span:4,offset:0},{default:t(()=>[e(c,{type:"primary",onClick:l[1]||(l[1]=o=>a.addDialogVisible=!0)},{default:t(()=>[p("新增")]),_:1})]),_:1})]),_:1}),e(L,{data:i(f),stripe:"",border:"",fit:"",style:{width:"100%"}},{default:t(()=>[e(s,{fixed:"",type:"index",label:"序号",align:"center",width:"100"}),e(s,{prop:"id",label:"ID",align:"center",width:"200"}),e(s,{prop:"nickName",label:"用户名",align:"center",width:"150"}),e(s,{prop:"password",label:"密码",align:"center",width:"300"}),e(s,{prop:"phone",label:"手机号",align:"center",width:"120"}),e(s,{prop:"createTime",label:"创建时间",align:"center",width:"300"}),e(s,{prop:"updateTime",label:"最后更新时间",align:"center",width:"300"}),e(s,{fixed:"right",label:"操作",width:"120",align:"center"},{default:t(o=>[e(c,{link:"",type:"primary",size:"small",onClick:K=>h(o.row)},{default:t(()=>[p("编辑")]),_:2},1032,["onClick"]),e(c,{link:"",type:"primary",size:"small"},{default:t(()=>[p("删除")]),_:1})]),_:1})]),_:1},8,["data"]),e(N,{"current-page":i(r).page,"onUpdate:currentPage":l[2]||(l[2]=o=>i(r).page=o),"page-size":i(r).pageSize,"onUpdate:pageSize":l[3]||(l[3]=o=>i(r).pageSize=o),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:i(C),onSizeChange:k,onCurrentChange:z},null,8,["current-page","page-size","total"])]),_:1}),e(I,{"align-center":"",title:"编辑",modelValue:_.value,"onUpdate:modelValue":l[7]||(l[7]=o=>_.value=o),width:"50%",onClose:l[8]||(l[8]=o=>$(a.editFormRef))},{footer:t(()=>[O("span",G,[e(c,{onClick:l[6]||(l[6]=o=>_.value=!1)},{default:t(()=>[p("取 消")]),_:1}),e(c,{type:"primary",onClick:x},{default:t(()=>[p("确 定")]),_:1})])]),default:t(()=>[e(R,{model:d,ref:"editFormRef","label-width":"100px"},{default:t(()=>[e(V,{label:"姓名",prop:"name"},{default:t(()=>[e(b,{modelValue:d.nickName,"onUpdate:modelValue":l[4]||(l[4]=o=>d.nickName=o)},null,8,["modelValue"])]),_:1}),e(V,{label:"手机号",prop:"phone"},{default:t(()=>[e(b,{modelValue:d.phone,"onUpdate:modelValue":l[5]||(l[5]=o=>d.phone=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),X=A(H,[["__scopeId","data-v-c711899d"]]);export{X as default};
