import{d as f,r as v,o as w,c as b,a as s,w as r,v as u,u as d,b as c,e as p,f as x,g as I,p as L,h as k,i as y,_ as S}from"./index-D_0vH8B_.js";import{l as $}from"./index-CM78VC0T.js";import{u as C}from"./user-DOxdT6_B.js";const o=a=>(L("data-v-211d7f66"),a=a(),k(),a),V={id:"login_container"},q={class:"login_box"},B={class:"login_form"},F=o(()=>s("h2",{id:"title",class:"ccxkt"},"LOGIN",-1)),M={class:"inputs"},N={class:"input_box"},U=o(()=>s("label",null,"phone",-1)),T={class:"input_box"},D=o(()=>s("label",null,"password",-1)),E={class:"btns"},G=o(()=>s("span",null,null,-1)),O=o(()=>s("span",null,null,-1)),P=o(()=>s("span",null,null,-1)),R=o(()=>s("span",null,null,-1)),j=o(()=>s("span",null,null,-1)),z=o(()=>s("span",null,null,-1)),A=o(()=>s("span",null,null,-1)),H=o(()=>s("span",null,null,-1)),J=f({__name:"Login",setup(a){const _=C(),{init_userinfo:h}=_,{proxy:l}=y();let n=v({phone:"15200712273",password:"123456"});const m=x(),g=async()=>{l.$startLoading();const e=await $(n);if(l.$closeLoading(),e.code!==1)return l.$message.error("登录失败");l.$message.success("登录成功"),window.sessionStorage.setItem("user",e.data.user.id),h({...e.data.user},{...e.data.authority}),m.push("/home")};return w(()=>{sessionStorage.setItem("keyPath","2-1")}),(e,t)=>(I(),b("div",V,[s("div",q,[s("div",B,[F,s("div",M,[s("div",N,[r(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>d(n).phone=i),required:""},null,512),[[u,d(n).phone]]),U]),s("div",T,[r(s("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=i=>d(n).password=i),required:"required"},null,512),[[u,d(n).password]]),D])]),s("div",E,[s("button",{id:"login",onClick:c(g,["prevent"])},[p(" 登录 "),G,O,P,R]),s("button",{id:"reset",onClick:t[2]||(t[2]=c((...i)=>e.resetLoginForm&&e.resetLoginForm(...i),["prevent"]))},[p(" 重置 "),j,z,A,H])])])])]))}}),X=S(J,[["__scopeId","data-v-211d7f66"]]);export{X as default};
